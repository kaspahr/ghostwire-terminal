<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>S.O.L.E.M. — Recruit Portal</title>
<meta name="theme-color" content="#0a0a0a" />
<meta name="description" content="S.O.L.E.M. Recruit Portal — amber/black glassy mock for GitHub Pages." />
<style>
  :root{
    --bg:#0a0a0a;
    --ink:#e9edf5; --mut:#a3afc4; --line:#1a2030;
    --panel:#0d1016; --panel2:#0b0e13;
    --amber:#ffb347; --amber2:#ff9422;
    --emerald:#2ee086; --red:#ff736a;
    --pill:#1a2233; --pill-bd:#33405a; --pill-ink:#9fb2d0;
    --card-bd:#1c2436; --card-bg1:rgba(19,22,32,.82); --card-bg2:rgba(12,14,20,.82);
    --glowA:0 6px 18px rgba(255,179,71,.16), 0 0 28px rgba(255,179,71,.10);
    --glowB:0 0 0 1px rgba(255,179,71,.08) inset, 0 14px 40px rgba(0,0,0,.45);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink);
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji",sans-serif;
    background:
      radial-gradient(1600px 700px at 50% -10%, #12162a 0%, #0e1220 40%, #0a0c12 70%, #07080b 100%);
  }
  /* subtle scanlines + vignette */
  body::before{content:"";position:fixed;inset:0;pointer-events:none;opacity:.2;
    background:repeating-linear-gradient(to bottom, rgba(255,255,255,.025), transparent 2px, transparent 3px);
    mix-blend-mode:overlay;}
  body::after{content:"";position:fixed;inset:0;pointer-events:none;opacity:.75;
    background:radial-gradient(1100px 540px at 50% 10%, rgba(0,0,0,.0), rgba(0,0,0,.55) 65%, rgba(0,0,0,.85) 100%);}

  .wrap{max-width:1200px;margin:0 auto;padding:20px}

  /* header */
  header.top{position:sticky;top:0;z-index:30;backdrop-filter:blur(8px);
    background:linear-gradient(180deg, rgba(10,12,18,.75), rgba(10,12,18,.45));
    border-bottom:1px solid var(--line);}
  .bar{display:flex;align-items:center;justify-content:space-between;gap:18px}
  .brand{display:flex;align-items:center;gap:12px}
  .crest{width:26px;height:26px;border-radius:50%;border:2px solid #c7ff8c;box-shadow:0 0 14px rgba(167,255,120,.35) inset}
  .pill{display:inline-flex;align-items:center;gap:8px;
    font-size:.78rem; padding:.28rem .6rem; border-radius:999px;
    color:var(--pill-ink); border:1px solid var(--pill-bd);
    background:linear-gradient(180deg, rgba(26,34,51,.85), rgba(14,18,28,.85));}
  .pill .dot{width:8px;height:8px;border-radius:999px;background:#6fe57a;box-shadow:0 0 10px rgba(111,229,122,.35)}
  h1{margin:.15rem 0 0;font-weight:800;letter-spacing:.02em}

  nav a{
    display:inline-block;margin:0 .18rem;padding:.58rem 1rem;border-radius:12px;
    border:1px solid #2a3346; color:#cfe0ff; text-decoration:none; user-select:none;
    background:linear-gradient(180deg, rgba(20,24,34,.7), rgba(12,14,20,.7));
  }
  nav a.active, nav a:hover{
    color:#16181b; border-color:transparent;
    background:linear-gradient(180deg, var(--amber), var(--amber2));
    box-shadow:var(--glowA);
  }

  /* sections */
  main{padding-top:14px}
  section{display:none}
  section.show{display:block}

  .grid{display:grid;gap:16px}
  .grid.c2{grid-template-columns:repeat(2,minmax(0,1fr))}
  .grid.c3{grid-template-columns:repeat(3,minmax(0,1fr))}
  @media (max-width:960px){ .grid.c2,.grid.c3{grid-template-columns:1fr} }

  .card{
    border:1px solid var(--card-bd); border-radius:14px; padding:16px;
    background:linear-gradient(180deg, var(--card-bg1), var(--card-bg2));
    box-shadow:var(--glowB);
  }
  .muted{color:var(--mut)}
  h2{font-weight:800;letter-spacing:.015em;margin:.2rem 0 .7rem}
  .h-amber{color:var(--amber)}

  .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:18px;align-items:center}
  .poster{
    height:260px;border-radius:16px;border:1px dashed #33425e;
    background:
      radial-gradient(240px 100px at 18% 12%, rgba(255,179,71,.09), transparent 60%),
      linear-gradient(135deg, #121724, #0c101a);
    color:#5d6a86; display:flex;align-items:center;justify-content:center}

  .btn{
    font:inherit; border-radius:12px; padding:.7rem 1.1rem; cursor:pointer;
    border:1px solid #33445f; color:#e8f0ff; background:linear-gradient(180deg, rgba(18,22,32,.92), rgba(12,14,20,.92));
  }
  .btn.primary{
    color:#181a1d; border-color:transparent;
    background:linear-gradient(180deg, var(--amber), var(--amber2));
    box-shadow:var(--glowA);
  }
  .btn.ghost{border-color:#405072;color:#cfe0ff}
  .btn.danger{border-color:#5a2a2a;color:#ff9a9a}

  .progress{height:14px; border:1px solid #36445f; background:#0b0f17; border-radius:999px; overflow:hidden}
  .bar{height:100%; width:0%;
    background:linear-gradient(90deg, var(--amber), var(--amber2)); box-shadow:inset 0 0 16px rgba(255,179,71,.25);
    transition:width .2s ease}

  /* panel in the void */
  .void{
    max-width:820px; margin:52px auto; padding:26px 26px 20px;
    border:1px solid #3e2b13; border-radius:18px;
    background:
      radial-gradient(1200px 420px at 50% -160px, rgba(255,179,71,.08), rgba(0,0,0,0)),
      linear-gradient(180deg, rgba(24,16,8,.35), rgba(12,10,8,.22));
    box-shadow:0 70px 160px rgba(0,0,0,.6), inset 0 0 0 1px rgba(255,179,71,.07);
  }
  .check{
    width:70px;height:70px;border-radius:50%; border:3px solid var(--emerald);
    display:inline-flex; align-items:center; justify-content:center; color:var(--emerald);
    box-shadow:0 0 28px rgba(46,224,134,.28); font-size:34px
  }
  .warn-pill{display:inline-flex;align-items:center;gap:8px;
    border:1px solid #80592a; color:#ffd19a;
    background:linear-gradient(180deg, rgba(64,40,16,.28), rgba(42,24,10,.28));
    padding:.2rem .55rem;border-radius:999px;font-size:.85rem}

  footer.foot{border-top:1px solid var(--line); background:#070a0f}
  .micro{opacity:.78;font-size:.85rem}

  /* small inputs */
  label.row{display:flex;gap:10px;align-items:center;margin:.45rem 0}
  input[type="text"], input[type="file"]{
    background:#0d1220; color:#e8f0ff; border:1px solid #2a3346; border-radius:10px; padding:.55rem .7rem; width:100%;
  }
</style>
</head>
<body>

<header class="top">
  <div class="wrap bar">
    <div class="brand">
      <div class="crest" aria-hidden="true"></div>
      <div>
        <div class="pill"><span class="dot"></span> Classified System</div>
        <h1>S.O.L.E.M.</h1>
      </div>
    </div>
    <nav aria-label="Sections">
      <a data-go="home" class="active">Home</a>
      <a data-go="sterile">Assessment</a>
      <a data-go="archives">Archives</a>
      <a data-go="stats">Statistics</a>
      <a data-go="community">Community</a>
      <a data-go="transfer">Transfer</a>
      <a data-go="profile">Profile</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <!-- HOME -->
  <section id="home" class="show">
    <div class="hero">
      <div class="poster">ENTER CONTINUITY — poster</div>
      <div>
        <h2 class="h-amber">S.O.L.E.M.</h2>
        <p class="muted" style="max-width:50ch">Sentient Observer Linked to Energy & Memory. A research initiative dedicated to cognitive clarity through technological synchronization.</p>
        <div style="display:flex;gap:10px;margin-top:12px">
          <button class="btn primary" data-go="sterile">Begin Assessment</button>
          <button class="btn ghost" data-go="stats">View Statistics</button>
        </div>
        <div class="pill" style="margin-top:10px">Because Memory Is a Choice™</div>
      </div>
    </div>

    <div class="grid c3" style="margin-top:18px">
      <div class="card"><h3>Cognitive Assessment</h3><p class="muted">Complete one of three specialized surveys aligned to your natural strengths.</p></div>
      <div class="card"><h3>Tiered Access</h3><p class="muted">Bronze → Silver → Gold → Platinum. Archives unlock by rank.</p></div>
      <div class="card"><h3>Recruit Community</h3><p class="muted">Connect via statements, debates, and polls. (Mock only.)</p></div>
    </div>
  </section>

  <!-- STERILIZATION -->
  <section id="sterile" class="void" style="display:none">
    <h2 class="h-amber" style="margin-top:0">Cognitive Sterilization</h2>
    <p class="muted" style="margin-top:-6px">[System Ident: Δ-44b] Initializing Sentient Observer link… Click once to prime audio.</p>

    <div class="card" style="margin-top:12px">
      <div class="progress"><div class="bar" id="dsBar"></div></div>
      <div style="display:flex;gap:10px;align-items:center;margin-top:8px">
        <span class="muted"><span id="elapsed">0:00</span> / 1:30 — ETA <span id="eta">1:30</span></span>
        <span class="muted" style="margin-left:auto">Audio: <span id="audState">paused</span></span>
      </div>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <button class="btn primary" id="playDsync">Play</button>
        <button class="btn ghost" id="restartDsync">Restart</button>
        <button class="btn ghost" id="muteBtn">Unmute</button>
        <button class="btn ghost" id="skipBtn">Skip</button>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:10px;margin-top:10px">
      <span id="lockBadge" class="warn-pill">Locked</span>
      <button class="btn ghost" id="toConsent" disabled>Continue → Consent</button>
    </div>

    <audio id="bootSfx" src="./BOOT.wav" preload="auto"></audio>
    <audio id="dsync"   src="./DSYNC.mp3" preload="auto" loop></audio>
  </section>

  <!-- STERILIZATION COMPLETE -->
  <section id="sterileDone" class="void" style="display:none; text-align:center">
    <div class="check">✓</div>
    <h2 style="margin:.7rem 0 0">Sterilization Complete</h2>
    <p class="muted" style="margin:.3rem 0 1rem">Neural synchronization verified. Proceeding to assessment…</p>
    <button class="btn primary" data-go="consent">Continue</button>
  </section>

  <!-- CONSENT -->
  <section id="consent" class="void" style="display:none">
    <h2 class="h-amber" style="margin-top:0">Welcome, Recruit.</h2>
    <p class="muted">You are about to enter the S.O.L.E.M. Cognitive Calibration Environment. Participation is mandatory once initiated.</p>

    <div class="card" style="margin-top:12px">
      <p class="muted">By proceeding, you acknowledge the fictional nature of this portal and consent to simulated access gates. No data leaves your browser.</p>
      <label class="row"><input type="checkbox" id="ack21"> I affirm I am 21+.</label>
      <label class="row"><input type="checkbox" id="ackUnderstand"> I have read and understand the Agreement.</label>
      <div style="display:flex;gap:10px;margin-top:8px">
        <button class="btn danger" id="decline">Decline</button>
        <button class="btn primary" id="accept" disabled>I CONSENT AND UNDERSTAND</button>
      </div>
      <p class="muted" style="margin-top:6px"><span class="warn-pill">Note</span> Declining bars future access until site data is cleared.</p>
    </div>
  </section>

  <!-- ASSESSMENT -->
  <section id="assessment" style="display:none">
    <h2>Assessment Path Selection</h2>
    <div class="grid c3">
      <div class="card"><h3>Path Alpha — Cognitive Observer</h3><p class="muted">CDD-A (P) / TSE-B (S) / EPAS-E (T)</p><button class="btn ghost" data-path="alpha">Select Path</button></div>
      <div class="card"><h3>Path Beta — Temporal Analyst</h3><p class="muted">TSE-B (P) / PII-C (S) / CDD-A (T)</p><button class="btn ghost" data-path="beta">Select Path</button></div>
      <div class="card"><h3>Path Gamma — Empathic Processor</h3><p class="muted">EPAS-E (P) / CDD-A (S) / TSE-B (T)</p><button class="btn ghost" data-path="gamma">Select Path</button></div>
    </div>
    <div id="questionPane" class="card" style="margin-top:14px;display:none"></div>
  </section>

  <!-- ARCHIVES -->
  <section id="archives" style="display:none">
    <h2>Lore Archive</h2>
    <div class="card muted">Archive access requires Silver+. (Mock)</div>
  </section>

  <!-- STATS -->
  <section id="stats" style="display:none">
    <h2>Public Statistics</h2>
    <div class="grid c3">
      <div class="card"><h3>Active Recruits</h3><div id="recruitCount">1,107</div></div>
      <div class="card"><h3>Geo Distribution</h3><div class="muted">Enable location &amp; submissions</div></div>
      <div class="card"><h3>Monthly Refresh</h3><p class="muted">Hiring stats refresh monthly.</p></div>
    </div>
  </section>

  <!-- COMMUNITY -->
  <section id="community" style="display:none">
    <h2>Community & Debates (21+)</h2>
    <div class="card"><button class="btn ghost" id="newThread">New Statement / Debate</button></div>
    <div id="threads" class="grid"></div>
  </section>

  <!-- TRANSFER -->
  <section id="transfer" style="display:none">
    <h2>Transfer Room — Ephemeral (5 min)</h2>
    <div class="grid c3">
      <div class="card"><h3>Status</h3><p class="muted">Presence: Active / Away / Inactive</p></div>
      <div class="card"><h3>Create Link (G/P)</h3><input type="file" id="filePick"><button class="btn ghost" id="shareFile">Generate Share</button><div id="shareOut" class="muted micro"></div></div>
      <div class="card"><h3>Join Link</h3><input type="text" id="joinCode" placeholder="Paste code"><button class="btn ghost" id="joinShare">Join</button><div id="shareIn" class="muted micro"></div></div>
    </div>
  </section>

  <!-- PROFILE -->
  <section id="profile" style="display:none">
    <h2>Profile</h2>
    <div class="card">
      <label class="row">Display Name <input id="handle" type="text"></label>
      <label class="row">Country <input id="country" type="text"></label>
      <label class="row">Province/State <input id="region" type="text"></label>
      <label class="row"><input type="checkbox" id="publicProfile"> Public Profile (opt-in)</label>
      <div style="display:flex;gap:10px;margin-top:8px">
        <button class="btn ghost" id="saveProfile">Save</button>
        <button class="btn danger" id="reset">Reset</button>
      </div>
    </div>
    <div class="card"><h3>Recruit ID</h3><div id="recruitId">Unassigned</div></div>
  </section>
</main>

<footer class="foot">
  <div class="wrap"><span class="micro">S.O.L.E.M. INTERNAL — Rev. X — ©MMXXV — “Because Memory Is a Choice™”</span></div>
</footer>

<script>
(function(){
  const $=(s,ctx=document)=>ctx.querySelector(s);
  const $$=(s,ctx=document)=>Array.from(ctx.querySelectorAll(s));

  // nav
  function show(id){
    $$('main > section').forEach(s=>s.style.display='none');
    const el = $('#'+id); if(el) el.style.display='';
    $$('header nav a').forEach(a=>a.classList.toggle('active', a.dataset.go===id));
  }
  $$('header nav a,[data-go]').forEach(a=>a.addEventListener('click', e=>{
    const to=a.dataset.go; if(to){ e.preventDefault(); show(to); }
  }));

  // AUDIO
  const aBoot=$('#bootSfx'), aLoop=$('#dsync'), audState=$('#audState');
  let primed=false;
  function prime(){ if(primed) return; primed=true;
    aBoot.volume=.45; aBoot.currentTime=0; aBoot.play().catch(()=>{});
    aLoop.volume=.14; aLoop.play().catch(()=>{});
    audState.textContent='playing'; $('#muteBtn').textContent='Mute';
  }
  document.addEventListener('pointerdown', prime, {once:true});
  $('#muteBtn').addEventListener('click', ()=>{
    if(aLoop.paused || aLoop.muted){ aLoop.muted=false; aLoop.play().catch(()=>{}); audState.textContent='playing'; $('#muteBtn').textContent='Mute'; }
    else{ aLoop.muted=true; aLoop.pause(); audState.textContent='muted'; $('#muteBtn').textContent='Unmute'; }
  });

  // DSYNC
  const bar=$('#dsBar'), elapsed=$('#elapsed'), eta=$('#eta'), toConsent=$('#toConsent');
  let pct = Number(localStorage.getItem('sol_dsync_pct')||0);
  const fmt=s=>`${Math.floor(s/60)}:${String(Math.floor(s%60)).padStart(2,'0')}`;
  function renderDS(){
    const p=Math.min(100,Math.max(0,pct|0));
    bar.style.width=p+'%';
    elapsed.textContent=fmt((p/100)*90);
    eta.textContent=fmt(90-(p/100)*90);
    $('#lockBadge').textContent=p>=100?'READY':'Locked';
    toConsent.disabled=!(p>=100);
    localStorage.setItem('sol_dsync_pct', String(p));
  }
  $('#playDsync').addEventListener('click', ()=>{
    prime();
    if(pct>=100) return;
    const t=setInterval(()=>{
      pct += Math.random()*7+3;
      if(pct>=100){ pct=100; clearInterval(t); $('#sterile').style.display='none'; $('#sterileDone').style.display=''; }
      renderDS();
    },180);
  });
  $('#restartDsync').addEventListener('click', ()=>{ pct=0; renderDS(); });
  $('#skipBtn').addEventListener('click', ()=>{ pct=100; renderDS(); $('#sterile').style.display='none'; $('#sterileDone').style.display=''; });
  toConsent.addEventListener('click', ()=> show('consent'));
  renderDS();

  // consent
  function updateAccept(){ $('#accept').disabled = !($('#ack21').checked && $('#ackUnderstand').checked); }
  $('#ack21').addEventListener('change', updateAccept);
  $('#ackUnderstand').addEventListener('change', updateAccept);
  $('#accept').addEventListener('click', ()=>{ localStorage.setItem('sol_consent','1'); show('assessment'); });
  $('#decline').addEventListener('click', ()=>{ localStorage.setItem('sol_consent','0'); alert('Access declined. Clear site data to reset.'); show('home'); });

  // assessment
  const pane=$('#questionPane');
  $$('[data-path]').forEach(b=>b.addEventListener('click', ()=>{
    const ok=(Number(localStorage.getItem('sol_dsync_pct')||0)>=100) && (localStorage.getItem('sol_consent')==='1');
    if(!ok){ alert('Complete DSYNC and Consent first.'); return; }
    pane.style.display='block';
    const P=b.dataset.path.toUpperCase();
    pane.innerHTML = `<h3>${P} Path</h3>
      <p class="muted">Q1. Describe your earliest memory of a mirrored surface. (50–120 words)</p>
      <p class="muted">Q2. Define “Order is mastery of chaos” using a personal example. (50–120 words)</p>
      <p class="muted">Q3. Choose: CDD-A / TSE-B / EPAS-E — justify your weighting.</p>`;
  }));

  // community
  const threads = JSON.parse(localStorage.getItem('sol_threads')||'[]');
  function renderThreads(){ const box=$('#threads'); box.innerHTML='';
    threads.forEach(t=>{ const c=document.createElement('div'); c.className='card';
      c.innerHTML=`<strong>${t.title}</strong><p class="muted">${t.body}</p>`; box.appendChild(c); });
  }
  $('#newThread').addEventListener('click', ()=>{
    const ok=(Number(localStorage.getItem('sol_dsync_pct')||0)>=100) && (localStorage.getItem('sol_consent')==='1');
    if(!ok){ alert('Unlock access first.'); return; }
    const title=prompt('Statement title?'); if(!title) return;
    const body=prompt('One-sentence position?'); if(body==null) return;
    threads.unshift({title,body,ts:Date.now()}); localStorage.setItem('sol_threads', JSON.stringify(threads)); renderThreads();
  }); renderThreads();

  // transfer
  $('#shareFile').addEventListener('click', ()=>{
    const code=Math.random().toString(36).slice(2,8).toUpperCase();
    $('#shareOut').textContent='Share code: '+code+' (expires in 5m — not really)';
  });
  $('#joinShare').addEventListener('click', ()=>{
    $('#shareIn').textContent='Joined '+($('#joinCode').value||'??????')+' (mock)';
  });

  // profile
  $('#saveProfile').addEventListener('click', ()=>{
    let id=localStorage.getItem('sol_id');
    if(!id || id==='Unassigned'){
      const n=crypto.getRandomValues(new Uint32Array(2));
      id = Array.from(n).map(v=>v.toString(16).padStart(8,'0')).join('-');
      localStorage.setItem('sol_id', id);
    }
    const name=$('#handle').value||'Recruit';
    $('#recruitId').textContent=id+' // '+name;
    alert('Saved locally.');
  });
  $('#reset').addEventListener('click', ()=>{ localStorage.clear(); location.reload(); });

  // deep links
  // start on sterile if user clicks CTA
})();
</script>
</body>
</html>
